{% extends 'base.kraken.twig' %}
{% import "_partial-form/macros.twig" as form_macros %}

{% set page_title = "Edit Environment Target" %}

{% block content %}

    <h1>Edit Environment Target - <strong>{{ application.name }}</strong></h1>

    <h4>Application</h4>
    <p>{{ application.name }}</p>

    <h4>Environment</h4>
    <p>{{ environment.name }}</p>

    {{ block('assign_environment') }}

{% endblock %}

{% block assign_environment %}
    <div class="form-wrapper">
        {{ form_macros.formErrors(errors) }}

        <form action="" method="post">
            <ul class="form-fields">

                <li>
                    <label for="enc-key">QKS Identifier</label>

                    <input type="text" name="key" id="enc-key" maxlength="100" value="{{ form.key }}" class="text-input">
                    <small class="additional">
                        Configuration is encrypted with this private key from QKS.
                    </small>
                </li>
            </ul>

            <ul class="button-list">
                <li><input class="btn btn--action" type="submit" value="Save Changes"></li>
                <li class="button-list__fixed"><a class="btn btn--secondary" href="{{ urlFor('kraken.application', {application: application.id}) }}">Cancel</a></li>
            </ul>

        </form>
    </div>
{% endblock %}
