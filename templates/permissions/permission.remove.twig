{% extends 'base.twig' %}
{% import "macros.twig" as macros %}

{% set page_title = "Remove Permissions" %}

{% block content %}

    <h1>{{ page_title }}</h1>

    <h2>Current Permissions - <b>{{ user.handle }}</b></h2>

    {% include 'user/partial.user-status.twig' with {
        showHalStatus: false,
        userPerm: user_permissions,
        leadApplications: lead_applications,
        prodApplications: prod_applications,
        nonProdApplications: non_prod_applications,
    } only %}

    <h2>Remove the following permissions</h2>
    <div class="details-box">
        <ul class="mbn">

            <li>User Type</li>
            <li>
                {% if user_type.type == 'lead' %}
                    {{ macros.status('Owner', 'notice') }}
                {% endif %}
                {% if user_type.type == 'btn_pusher' %}
                    {{ macros.status('Admin', 'warning') }}
                {% endif %}
                {% if user_type.type == 'super' %}
                    {{ macros.status('Super', 'error') }}
                {% endif %}
            </li>

            {% if user_type.application %}
                <li>Application</li>
                <li><a href="{{ uriFor('application', {'application': user_type.application.id}) }}">{{ user_type.application.name }}</a></li>
            {% endif %}
        </ul>
    </div>

    <h3>Are you sure?</h3>
    <p>You're about to remove some of this user's permissions. Do you want to continue?</p>

    <form class="form-wrapper" method="post">
        <ul>
            <li><input class="btn btn--destructive" type="submit" value="Remove"></li>
            <li><a class="btn" href="{{ uriFor('admin.permissions') }}">Cancel</a></li>
        </ul>
    </form>

{% endblock %}

