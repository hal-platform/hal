{
    "appDir"              : "./",
    "baseUrl"             : "./",
    "dir"                 : "../public/js",
    "fileExclusionRegExp" : (/optimizer\.json|require-config-default\.json/),
    "optimize"            : "uglify2",
    "removeCombined"      : true,
    "skipDirOptimize"     : true,
    "modules"             : [
        // Global main module
        {
            "name": "main",
            "include": [
                "jquery",
                "jquerySortable",
                "jqueryTablesaw",
                "json!require-config.json"
            ]
        },

        // Shared modules
        // Modules used in multiple controllers must be listed first!
        // Add the module name to the "exclude" list for the controllers that use it.
        // {
        //     "name": "modules/sample-module",
        //     "exclude": [ "main" ]
        // },

        // controllers
        {
            "name": "controller/build-create",
            "exclude": [ "main" ]
        },
        {
            "name": "controller/environment-manage",
            "exclude": [ "main" ]
        },
        {
            "name": "controller/repository-add",
            "exclude": [ "main" ]
        },
        {
            "name": "controller/repository-deployment-add",
            "exclude": [ "main" ]
        },

        // components (controller groups)
        // Combine multiple controllers into components and add "component" to their route
        {
            "name": "component/job-updater",
            "create": true,
            "exclude": [ "main" ],
            "include": [
                "controller/build",
                "controller/builds",
                "controller/push",
                "controller/pushes",
                "controller/repository-status"
            ]
        },
        {
            "name": "component/queue-dashboard",
            "create": true,
            "exclude": [ "main" ],
            "include": [
                "controller/dashboard",
                "controller/queue"
            ]
        }
    ],
    "stubModules" : [
        "json",
        "text"
    ],

    // Make sure "shim" and "paths" match the same values in optimizer.json!
    "shim": {
        "underscore": {
            "exports": "_"
        }
    },
    "paths": {
        "crossroads": "vendor/crossroads.min",
        "jquery": "vendor/jquery-2.min",
        "jquerySortable": "vendor/jquery.sortable.min",
        "jqueryTablesaw": "vendor/jquery.tablesaw",
        "nunjucks": "vendor/nunjucks.min",
        "signals": "vendor/signals.min",
        "tablesaw": "vendor/tablesaw.min",
        "underscore": "vendor/underscore.min",
        "json": "vendor/requirejs-plugins/json",
        "text": "vendor/requirejs-plugins/text"
    }
}
