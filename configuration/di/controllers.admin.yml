services:
    ####################################################################################################################
    # ADMIN CONTROLLERS
    ####################################################################################################################

    admin.dashboard.page:
        class: 'QL\Hal\Controllers\Admin\DashboardController'
        arguments: [@admin.dashboard.twig, @slim.response]
    admin.dashboard.twig:
        parent: 'twig.template'
        calls: [['setTemplate', ['admin/dashboard.twig']]]

    admin.super.page:
        class: 'QL\Hal\Controllers\Admin\SuperController'
        arguments:
            - @admin.super.twig
            - @slim.response
            - %encryption.secret%
            - %session.encryption.secret%
            - @hal.pushfile
    admin.super.twig:
        parent: 'twig.template'
        calls: [['setTemplate', ['admin/super.twig']]]

    admin.users.page:
        class: 'QL\Hal\Controllers\Admin\UserManagementController'
        arguments:
            - @admin.users.twig
            - @user.repo
            - @ldap
            - @doctrine.em
            - @slim.request
            - @slim.response
    admin.users.twig:
        parent: 'twig.template'
        calls: [['setTemplate', ['admin/users.management.twig']]]

    admin.caches.page:
        class: 'QL\Hal\Controllers\Admin\CacheManagementController'
        arguments:
            - @admin.caches.twig
            - @redis
            - @slim.response
            - @root
    admin.caches.twig:
        parent: 'twig.template'
        calls: [['setTemplate', ['admin/cache.management.twig']]]

    admin.caches.handler:
        class: 'QL\Hal\Controllers\Admin\CacheManagementHandler'
        arguments:
            - @slim.request
            - @slim.response
            - @session
            - @url
            - @doctrine.config
            - @redis

    admin.message.page:
        class: 'QL\Hal\Controllers\Admin\GlobalMessageController'
        arguments:
            - @admin.message.twig
            - @global.message
            - @session
            - @url.helper
            - @slim.request
            - @slim.response
    admin.message.twig:
        parent: 'twig.template'
        calls: [['setTemplate', ['admin/global.message.twig']]]

    admin.server.status.page:
        class: 'QL\Hal\Controllers\Server\ServersController'
        arguments:
            - @admin.server.status.twig
            - @server.repo
            - @slim.response
    admin.server.status.twig:
        parent: 'twig.template'
        calls: [['setTemplate', ['admin/server.status.twig']]]

    admin.server.status.handler:
        class: 'QL\Hal\Controllers\Admin\ServerStatusHandler'
        arguments:
            - @slim.response
            - @server.repo
            - @slim.route.parameters
            - %cli.user%
        calls:
            - ['setCache', [@cache]]
            - ['setCacheTTL', [%cache.server.ttl%]]

    admin.audit.logs.page:
        class: 'QL\Hal\Controllers\Admin\AuditLogsController'
        arguments:
            - @admin.audit.logs.twig
            - @audit.log.repo
            - @slim.response
            - @slim.not.found
            - @slim.route.parameters
    admin.audit.logs.twig:
        parent: 'twig.template'
        calls: [['setTemplate', ['admin/audit.logs.twig']]]

    admin.queue.page:
        class: 'QL\Hal\Controllers\Admin\QueueHistoryController'
        arguments:
            - @admin.queue.twig
            - @build.repo
            - @push.repo
            - @slim.response
            - @clock
            - @slim.route.parameters
            - %date.timezone%
    admin.queue.twig:
        parent: 'twig.template'
        calls: [['setTemplate', ['admin/queue.history.twig']]]

    admin.dangerzone.page:
        class: 'QL\Hal\Controllers\Admin\DangerzoneController'
        arguments:
            - @admin.dangerzone.twig
            - @slim.request
            - @slim.response
    admin.dangerzone.twig:
        parent: 'twig.template'
        calls: [['setTemplate', ['admin/dangerzone.cli.twig']]]
