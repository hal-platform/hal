# Application specific endpoints and controllers go here
services:

    ####################################################################################################################
    # API CONTROLLERS
    ####################################################################################################################

    api.index:
        class: 'Hal\UI\Controllers\Api\IndexController'
        arguments: ['@response.formatter']

    api.docs:
        class: 'Hal\UI\Controllers\Api\DocsRedirectController'
        arguments: ['@url']

    ####################################################################################################################
    # QUEUE CONTROLLERS
    ####################################################################################################################

    api.queue:
        class: 'Hal\UI\Controllers\Api\QueueController'
        arguments:
            - '@slim.request'
            - '@response.formatter'
            - '@normalizer.build'
            - '@normalizer.push'
            - '@doctrine.em'
            - '@clock'

    api.queue.refresh:
        class: 'Hal\UI\Controllers\Api\QueueRefreshController'
        arguments:
            - '@response.formatter'
            - '@normalizer.build'
            - '@normalizer.push'
            - '@doctrine.em'
            - '@slim.route.parameters'

    ####################################################################################################################
    # BUILD CONTROLLERS
    ####################################################################################################################

    api.build:
        class: 'Hal\UI\Controllers\Api\Build\BuildController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@slim.route.parameters'

    api.build.logs:
        class: 'Hal\UI\Controllers\Api\Build\EventLogsController'
        arguments:
            - '@slim.request'
            - '@response.formatter'
            - '@doctrine.em'
            - '@service.event_logs'
            - '@normalizer.log.event'
            - '@normalizer.build'
            - '@slim.route.parameters'

    api.builds:
        class: 'Hal\UI\Controllers\Api\Build\BuildsController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.build'
            - '@slim.route.parameters'

    ####################################################################################################################
    # DEPLOYMENT CONTROLLERS
    ####################################################################################################################

    api.deployment:
        class: 'Hal\UI\Controllers\Api\Deployment\DeploymentController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.deployment'
            - '@slim.route.parameters'

    api.deployments:
        class: 'Hal\UI\Controllers\Api\Deployment\DeploymentsController'
        arguments:
            - '@slim.request'
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.deployment'
            - '@slim.route.parameters'

    api.deployment.lastpush:
        class: 'Hal\UI\Controllers\Api\Deployment\LastPushController'
        arguments:
            - '@slim.request'
            - '@response.formatter'
            - '@doctrine.em'
            - '@slim.route.parameters'

    api.deployment.history:
        class: 'Hal\UI\Controllers\Api\Deployment\PushHistoryController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.push'
            - '@slim.route.parameters'

    ####################################################################################################################
    # ENVIRONMENT CONTROLLERS
    ####################################################################################################################

    api.environment:
        class: 'Hal\UI\Controllers\Api\Environment\EnvironmentController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@slim.route.parameters'

    api.environments:
        class: 'Hal\UI\Controllers\Api\Environment\EnvironmentsController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.environment'

    ####################################################################################################################
    # SERVER CONTROLLERS
    ####################################################################################################################

    api.server:
        class: 'Hal\UI\Controllers\Api\Server\ServerController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@slim.route.parameters'

    api.servers:
        class: 'Hal\UI\Controllers\Api\Server\ServersController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.server'
            - '@slim.route.parameters'

    ####################################################################################################################
    # GROUP CONTROLLERS
    ####################################################################################################################

    api.group:
        class: 'Hal\UI\Controllers\Api\Group\GroupController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@slim.route.parameters'

    api.groups:
        class: 'Hal\UI\Controllers\Api\Group\GroupsController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.group'

    ####################################################################################################################
    # PUSH CONTROLLERS
    ####################################################################################################################

    api.push:
        class: 'Hal\UI\Controllers\Api\Push\PushController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@slim.route.parameters'
    api.push.logs:
        class: 'Hal\UI\Controllers\Api\Push\EventLogsController'
        arguments:
            - '@slim.request'
            - '@response.formatter'
            - '@doctrine.em'
            - '@service.event_logs'
            - '@normalizer.log.event'
            - '@normalizer.push'
            - '@slim.route.parameters'

    api.pushes:
        class: 'Hal\UI\Controllers\Api\Push\PushesController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.push'
            - '@slim.route.parameters'

    ####################################################################################################################
    # EVENT LOG CONTROLLERS
    ####################################################################################################################

    api.event.log:
        class: 'Hal\UI\Controllers\Api\EventLogController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.log.event'
            - '@slim.route.parameters'

    ####################################################################################################################
    # REPOSITORY CONTROLLERS
    ####################################################################################################################

    api.application:
        class: 'Hal\UI\Controllers\Api\Application\ApplicationController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@slim.route.parameters'

    api.applications:
        class: 'Hal\UI\Controllers\Api\Application\ApplicationsController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.application'

    ####################################################################################################################
    # USER CONTROLLERS
    ####################################################################################################################

    api.user:
        class: 'Hal\UI\Controllers\Api\User\UserController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@slim.route.parameters'
    api.users:
        class: 'Hal\UI\Controllers\Api\User\UsersController'
        arguments:
            - '@response.formatter'
            - '@doctrine.em'
            - '@normalizer.user'
            - '@slim.route.parameters'
