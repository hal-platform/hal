services:
    index.api:
        class: 'Hal\UI\Controllers\API\IndexController'
        arguments: ['@api.response_formatter']

    docs.api:
        class: 'Hal\UI\Controllers\API\DocsRedirectController'
        arguments: ['@uri']

    ####################################################################################################################
    # QUEUE CONTROLLERS
    ####################################################################################################################

    queue.api:
        class: 'Hal\UI\Controllers\API\QueueController'
        arguments:
            - '@api.response_formatter'
            - '@api_normalizer.build'
            - '@api_normalizer.push'
            - '@job_queue'
            - '@problem.renderer'
            - '@clock'

    queue.refresh.api:
        class: 'Hal\UI\Controllers\API\QueueRefreshController'
        arguments:
            - '@api.response_formatter'
            - '@api_normalizer.build'
            - '@api_normalizer.push'
            - '@doctrine.em'
            - '@problem.renderer'

    ####################################################################################################################
    # SERVER CONTROLLERS
    ####################################################################################################################

    servers.api:
        class: 'Hal\UI\Controllers\API\Server\ServersController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@api_normalizer.server'
            - '@problem.renderer'

    server.api:
        class: 'Hal\UI\Controllers\API\Server\ServerController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@problem.renderer'
