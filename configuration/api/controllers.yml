services:
    index.api:
        class: 'Hal\UI\Controllers\API\IndexController'
        arguments: ['@api.response_formatter']

    docs.api:
        class: 'Hal\UI\Controllers\API\DocsRedirectController'
        arguments: ['@uri']

    ####################################################################################################################
    # QUEUE CONTROLLERS
    ####################################################################################################################

    queue.api:
        class: 'Hal\UI\Controllers\API\QueueController'
        arguments:
            - '@api.response_formatter'
            - '@api_normalizer.build'
            - '@api_normalizer.push'
            - '@job_queue'
            - '@problem.renderer'
            - '@clock'

    queue.refresh.api:
        class: 'Hal\UI\Controllers\API\QueueRefreshController'
        arguments:
            - '@api.response_formatter'
            - '@api_normalizer.build'
            - '@api_normalizer.push'
            - '@doctrine.em'
            - '@problem.renderer'

    ####################################################################################################################
    # ORGANIZATION CONTROLLERS
    ####################################################################################################################

    organization.api:
        class: 'Hal\UI\Controllers\API\Organization\OrganizationController'
        arguments: ['@api.response_formatter', '@api_normalizer.organization']

    organizations.api:
        class: 'Hal\UI\Controllers\API\Organization\OrganizationsController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@api_normalizer.organization'

    ####################################################################################################################
    # APPLICATION CONTROLLERS
    ####################################################################################################################

    application.api:
        class: 'Hal\UI\Controllers\API\Application\ApplicationController'
        arguments: ['@api.response_formatter', '@api_normalizer.application']

    applications.api:
        class: 'Hal\UI\Controllers\API\Application\ApplicationsController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@problem.renderer'

    ####################################################################################################################
    # SERVER CONTROLLERS
    ####################################################################################################################

    servers.api:
        class: 'Hal\UI\Controllers\API\Server\ServersController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@problem.renderer'

    server.api:
        class: 'Hal\UI\Controllers\API\Server\ServerController'
        arguments: ['@api.response_formatter', '@api_normalizer.server']


    ####################################################################################################################
    # TARGET CONTROLLERS
    ####################################################################################################################

    target.api:
        class: 'Hal\UI\Controllers\API\Target\TargetController'
        arguments: ['@api.response_formatter', '@api_normalizer.target']

    targets.api:
        class: 'Hal\UI\Controllers\API\Target\TargetsController'
        arguments: ['@api.response_formatter', '@doctrine.em']

    target.history.api:
        class: 'Hal\UI\Controllers\API\Target\HistoryController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@problem.renderer'

    target.current_release.api:
        class: 'Hal\UI\Controllers\API\Target\CurrentReleaseController'
        arguments:
            - '@api.response_formatter'
            - '@api_normalizer.push'
            - '@problem.renderer'

    ####################################################################################################################
    # BUILD CONTROLLERS
    ####################################################################################################################

    build.api:
        class: 'Hal\UI\Controllers\API\Build\BuildController'
        arguments: ['@api.response_formatter', '@api_normalizer.build']

    build.events.api:
        class: 'Hal\UI\Controllers\API\Build\EventsController'
        arguments: ['@api.response_formatter', '@service.event_logs']

    builds.api:
        class: 'Hal\UI\Controllers\API\Build\BuildsController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@problem.renderer'

    ####################################################################################################################
    # PUSH CONTROLLERS
    ####################################################################################################################

    push.api:
        class: 'Hal\UI\Controllers\API\Push\PushController'
        arguments: ['@api.response_formatter', '@api_normalizer.push']

    push.events.api:
        class: 'Hal\UI\Controllers\API\Push\EventsController'
        arguments: ['@api.response_formatter', '@service.event_logs']

    pushes.api:
        class: 'Hal\UI\Controllers\API\Push\PushesController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@problem.renderer'

    ####################################################################################################################
    # EVENT CONTROLLERS
    ####################################################################################################################

    event.api:
        class: 'Hal\UI\Controllers\API\EventController'
        arguments: ['@api.response_formatter', '@api_normalizer.event']

    ####################################################################################################################
    # ENVIRONMENTS CONTROLLERS
    ####################################################################################################################

    environments.api:
        class: 'Hal\UI\Controllers\API\Environment\EnvironmentsController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@api_normalizer.environment'

    environment.api:
        class: 'Hal\UI\Controllers\API\Environment\EnvironmentController'
        arguments: ['@api.response_formatter', '@api_normalizer.environment']

    ####################################################################################################################
    # USER CONTROLLERS
    ####################################################################################################################

    user.api:
        class: 'Hal\UI\Controllers\API\User\UserController'
        arguments: ['@api.response_formatter', '@api_normalizer.user']
    users.api:
        class: 'Hal\UI\Controllers\API\User\UsersController'
        arguments:
            - '@api.response_formatter'
            - '@doctrine.em'
            - '@problem.renderer'
