#!/usr/bin/env php
<?php

namespace QL\Hal\Bin;

use QL\Hal\Application\DoctrineProxyGenerator;

$root = __DIR__ . '/..';
if (!$container = @include $root . '/configuration/bootstrap.php') {
    echo "An error occured while attempting to generate doctrine proxies.\n";
    exit(1);
};

$generator = $container->get('doctrine.proxy.generator');

$success = $generator();
echo $generator->output();

if (!$success) {
    exit(1);
}
